CREATE T	ABLE Users (
    ID INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    FirstName VARCHAR(255),
    LastName VARCHAR(255),
    PhoneNum VARCHAR(15),
    Birthday DATE,
    UserName VARCHAR(255) UNIQUE,
    Password VARCHAR(255)
);

CREATE TABLE Notepads (
    ID INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    UserName VARCHAR(255) NOT NULL,
    Title VARCHAR(255) NOT NULL,
    CONSTRAINT fk_user FOREIGN KEY (UserName) REFERENCES Users (UserName) ON DELETE CASCADE
);

CREATE TABLE Tasks (
    ID INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    NotepadID INT NOT NULL,
    Task VARCHAR(255) NOT NULL,
    Completed BOOLEAN DEFAULT false,
    CONSTRAINT fk_notepad FOREIGN KEY (NotepadID) REFERENCES Notepads (ID) ON DELETE CASCADE
);
ALTER TABLE Tasks ADD COLUMN TaskTime TIMESTAMP;

SELECT * FROM Tasks;

SELECT t.ID, t.Task, t.Completed, t.TaskTime, n.Title, n.ID AS NotepadID 
FROM Tasks t 
JOIN Notepads n ON t.NotepadID = n.ID 
WHERE t.TaskTime < CURRENT_TIMESTAMP;